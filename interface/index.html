<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">-->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Active Feedback Learning</title>

    <!-- Just a little bit of custom CSS -->
    <style type="text/css">
        .input-group-text.primary {
            color: rgb(255, 255, 255);
            background-color: rgb(50, 118, 177);
            border-color: rgb(40, 94, 142);
        }

        .input-group-text.success {
            color: rgb(255, 255, 255);
            background-color: rgb(92, 184, 92);
            border-color: rgb(76, 174, 76);
        }

        .input-group-text.info {
            color: rgb(255, 255, 255);
            background-color: rgb(57, 179, 215);
            border-color: rgb(38, 154, 188);
        }

        .input-group-text.warning {
            color: rgb(255, 255, 255);
            background-color: rgb(240, 173, 78);
            border-color: rgb(238, 162, 54);
        }

        .input-group-text.danger {
            color: rgb(255, 255, 255);
            background-color: rgb(217, 83, 79);
            border-color: rgb(212, 63, 58);
        }

        .MathJax {
            font-size: 1.25em !important;
        }

        .interpretability {
            display: block;
            color: white;
            text-align: center;
            position: relative;
            top: 42%;
        }

        .d-lg-block {
            display: block !important;
            padding: 2%;
            background-color: rgb(85, 89, 92);
            vertical-align: middle;
        }

        .sbox {
            padding: 1.5em;
        }

        .sbox div.row:hover {
            box-shadow: 0 0 10px rgb(35 173 255) !important;
        }

        .sbox div.row.selected {
            box-shadow: 0 0 10px rgb(35 173 255) !important;
        }

        .sbox div.row {
            min-height: 150px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-10">

                <h1>Model feedback form</h1>
                <p>
                    Thank you very much for taking part in this experiment.
                    We tried our best to design it in order to ensure that it will not take you more than <b>20 minutes</b>.
                    In this experiment, we use <b>evolutionary machine learning</b> to synthesize a model in the form of a 
                    <b>human-interpretable formula</b>.
                    Your goal is to help us in this pursuit by letting us now what <b>you think is the more interpretable formula</b> when presented with <b>two options</b> at the time.
                    See the example models here below (<b>note:</b> you can click on them! but nothing happens, for now...):
                </p>

                
                <div id=div-models-container>
                    <!-- models will go here -->
                    <div class="row mb-2">
                        <div class="col-md-6 sbox model-container">
                            <div
                                class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                                <div class="col p-4 d-flex flex-column position-static">
                                    <strong class="d-inline-block mb-2 text-primary">Model 1</strong>
                                    <h6 class="mb-0"> $$4.32 + x_0 \times \left( \frac{x_1}{x_3} \right)$$ </h6>
                                    <div class="mb-1 text-muted">Size: <span class="formula-size">5</span></div>
                                    <input type="hidden" value="0">
                                </div>
                                <div class="col-auto d-none d-lg-block">
                                    <h2 class="interpretability">1</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 sbox  model-container">
                            <div
                                class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                                <div class="col p-4 d-flex flex-column position-static">
                                    <strong class="d-inline-block mb-2 text-primary">Model 2</strong>
                                    <h6 class="mb-0"> $$9.32 + \text{sin} \left( \text{max} \left( x_2, \log \left( {\sqrt{x^3_2}}  \times 3.79 \right) \right) \right)$$ </h6>
                                    <!--                        <div class="mb-1 text-muted">Uncertainty: <span class="unc"></span></div>-->
                                    <div class="mb-1 text-muted">Size: <span class="formula-size">11</span></div>
                                    <input type="hidden" value="1">
                                </div>
                                <div class="col-auto d-none d-lg-block">
                                    <h2 class="interpretability">2</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <p>
                    You may find the formula on the left to be easier to understand compared to the one on the right: it has less operations and all its operations are arithmetic, something you've seen since primary school :) 
                
                    Yet, the formula on the left depends on <b>three dimensions</b> (\(x_0, x_1, x_3\)), while the one on the right depends only on one (\(x_2\)). For someone who is used to handle non-linear operations like \(\text{sin}, \text{log}, \dots \), the formula on the right might actually be easier to understand.
                    <!--Moreover, what the <b>goal</b> is and what the variables \(x_i\) mean may influence your decision on what makes a formula more interpretable (take a look at the <b>Legend</b> on the right).-->
                </p>

                <h4>Your task</h4>
                <p>
                    During the ongoing evolutionary machine learning process, we present you with pair of formulas, 
                    and ask you each time to <b>click/tap</b> on the formula you think is <b>more interpretable</b> for you.
                    To make this process quick and painless, it is best if you do not try to understand what each formula means or what specific computations are realized by it. 
                    In fact, we do not provide the meaning of the variables you'll see.
                    We are mostly interested in a quick estimation of which formula is easier to intepret in your opinion, when you take a glance at it (e.g., try to take at most <b>a couple of seconds</b> to answer).
                    As soon as you click on the easier-to-understand formula, a new pair of formulas will appear. 
                    This process goes on until the evolution ends, which will take approximately <b>10 minutes</b>.
                </p>
                <p> 
                    After this, we will ask you to proceed to a survey where you are presented with some more formulas, some of which were precomputed, while others have been <b>found by the very evolution that was running in the background</b>! 
                    There, please let us know which ones, you think, are more interpretable for you.
                    Also, feel free to take your time to decide your answer at this moment (since the evolution is not running in the background anymore).
                </p>
                <p> 
                    This experiment is repeated <b>twice</b>, once for each of two <b>real-world problems</b> (that's why the total time you'll probably spend is about <b>20 minutes</b>). The first problem, "<b>Boston housing</b>" is about finding a formula that estimates the <b>median value of owner-occupied homes</b> (informally, "how much is a house in this area going to cost?"). The second problem, "<b>German credit</b>", is about estimating the <b>quality of creditability</b> (informally, "shall I give you credit money or better not?").

                    <!--
                    You'll have the legend for these problems on your right in case you need it, but again, we invite you to try to give us the feedback rather <b>quickly</b> (at least while the evolution takes place).
                    -->
                </p>

                <button type="button" class="btn btn-success btn-lg float-right" style="float:right" id="btn-proceed">I read everything carefully, get started with <span id=put-problem-name-here>?</span></button>
            </div>
            <!-- Legend disabled for this experiment -->
            <div class="col" hidden="true">
                <h2>Legend</h2>
                <div id="legend">
                    <p>This is an example legend for a fictional problem: we want to find a formula for the <b>power emitted by a SuperQuantum MagicReactor</b> based on the following variables:
                        <ul id="ul-legend">
                            <li>\( x_0= \) Number of magical unicorn horns used for the reaction</li>
                            <li>\( x_1= \) Number of quality checks done by our evil scientists</li>
                            <li>\( x_2= \) Energy bill cost after running the reaction for 3 months</li>
                            <li>\( x_3= \) Likelihood you'd prefer to be playing video games right now</li>
                        </ul>
                </div>
            </div>
        </div>
        
    </div>


    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>

    <!-- My own JavaScript -->
    <script src="index_script.js"></script>
</body>

</html>